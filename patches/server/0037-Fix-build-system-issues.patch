From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001
From: Dreeam <61569423+Dreeam-qwq@users.noreply.github.com>
Date: Sat, 11 Mar 2023 04:28:34 -0500
Subject: [PATCH] Fix build system issues


diff --git a/build.gradle.kts b/build.gradle.kts
index 1b4d00c5b5794b065737f0ca2e61ec8a79a5fa48..4edfa9998d160026765a35806fad2d959ce84de4 100644
--- a/build.gradle.kts
+++ b/build.gradle.kts
@@ -198,15 +198,14 @@ fun TaskContainer.registerRunTask(
     systemProperty("gale.detect.thread.blocks", true) // Gale - base thread pool - watch for blocking base threads
 
     val memoryGb = providers.gradleProperty("paper.runMemoryGb").getOrElse("2")
-    val modifiedJvmArgs = jvmArgs ?: arrayListOf()
-    modifiedJvmArgs.addAll(listOf("-Xms${memoryGb}G", "-Xmx${memoryGb}G"))
+    minHeapSize = "${memoryGb}G"
+    maxHeapSize = "${memoryGb}G"
     // Gale start - enable virtual threads for development runs
-    modifiedJvmArgs.add("--enable-preview")
-    modifiedJvmArgs.addAll(listOf("--add-opens=java.base/java.lang=ALL-UNNAMED"))
+    args("--enable-preview")
+    args(listOf("--add-opens=java.base/java.lang=ALL-UNNAMED"))
     // Gale end - enable virtual threads for development runs
-    modifiedJvmArgs.add("--add-modules=jdk.incubator.vector") // Gale - Pufferfish - SIMD support
-    modifiedJvmArgs.add("-XX:+AllowRedefinitionToAddDeleteMethods") // Gale - base thread pool - watch for blocking base threads
-    jvmArgs = modifiedJvmArgs
+    args("--add-modules=jdk.incubator.vector") // Gale - Pufferfish - SIMD support
+    args("-XX:+AllowRedefinitionToAddDeleteMethods") // Gale - base thread pool - watch for blocking base threads
 
     doFirst {
         workingDir.mkdirs()
