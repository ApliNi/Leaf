From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001
From: wangxyper <wangxyper@163.com>
Date: Mon, 16 Jan 2023 20:01:38 +0800
Subject: [PATCH] Hearse: I am a idiot

Original license: MIT
Original project: https://github.com/Era4FunMC/Hearse

diff --git a/src/main/java/org/bukkit/craftbukkit/event/CraftEventFactory.java b/src/main/java/org/bukkit/craftbukkit/event/CraftEventFactory.java
index c26e10ee64b60e8c73a07f24446f439d22167fa5..cd972ab7048319de10c304419cd55a6920055218 100644
--- a/src/main/java/org/bukkit/craftbukkit/event/CraftEventFactory.java
+++ b/src/main/java/org/bukkit/craftbukkit/event/CraftEventFactory.java
@@ -1127,10 +1127,10 @@ public class CraftEventFactory {
         }
 
         if (cause == null) {
+            LogManager.getLogger().warn(String.format("Unhandled damage of %s from %s", entity, source.msgId));
             cause = DamageCause.CUSTOM;
         }
-
-        LogManager.getLogger().warn(String.format("Unhandled damage of %s from %s", entity, source.msgId));
+        
         return CraftEventFactory.callEntityDamageEvent(null, entity, cause, modifiers, modifierFunctions, cancelled, source.isCritical()); // Paper - add critical damage API
     }
 
